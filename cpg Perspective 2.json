{"name":"cpg Perspective 2","id":"a54ee8c0-258a-11ed-8f6f-d38ec4fcf3ea","categories":[{"id":1,"name":"Customer","labels":["Customer"],"properties":[{"name":"Customer_ID","exclude":false,"dataType":"string"},{"name":"CustomerCity","exclude":false,"dataType":"string"},{"name":"FirstName","exclude":false,"dataType":"string"},{"name":"LastName","exclude":false,"dataType":"string"},{"name":"CustomerCountr","exclude":false,"dataType":"string"},{"name":"name","exclude":false,"dataType":"string"},{"name":"indexes","exclude":false,"dataType":"array"},{"name":"constraints","exclude":false,"dataType":"array"}],"createdAt":1661551292822,"lastEditedAt":1661714781091,"color":"#FFE081","size":1,"icon":"1BA78CC1-ED89-46D5-9D2B-D78DC944A59D","captionKeys":["0_CATEGORY_NAME_CAPTION_KEY","FirstName"],"styleRules":[]},{"id":2,"name":"Plant","labels":["Plant"],"properties":[{"name":"City","exclude":false,"dataType":"string"},{"name":"Country","exclude":false,"dataType":"string"},{"name":"PlantName","exclude":false,"dataType":"string"},{"name":"ID","exclude":false,"dataType":"string"},{"name":"State","exclude":false,"dataType":"string"},{"name":"name","exclude":false,"dataType":"string"},{"name":"indexes","exclude":false,"dataType":"array"},{"name":"constraints","exclude":false,"dataType":"array"}],"createdAt":1661551292822,"lastEditedAt":1661714781142,"color":"#C990C0","size":1,"icon":"551C9B4E-B8A2-4531-AB7D-68C0BBF80F63","captionKeys":["0_CATEGORY_NAME_CAPTION_KEY","PlantName"],"styleRules":[]},{"id":3,"name":"Warehouse","labels":["Warehouse"],"properties":[{"name":"City","exclude":false,"dataType":"string"},{"name":"Country","exclude":false,"dataType":"string"},{"name":"State","exclude":false,"dataType":"string"},{"name":"WarehouseName","exclude":false,"dataType":"string"},{"name":"Warehouse_ID","exclude":false,"dataType":"string"},{"name":"name","exclude":false,"dataType":"string"},{"name":"indexes","exclude":false,"dataType":"array"},{"name":"constraints","exclude":false,"dataType":"array"}],"createdAt":1661551292822,"lastEditedAt":1661714781190,"color":"#848484","size":1,"icon":"36ADC22A-4278-4483-8CF4-5CC5F66CA25D","captionKeys":["0_CATEGORY_NAME_CAPTION_KEY","WarehouseName"],"styleRules":[]},{"id":4,"name":"Vendor","labels":["Vendor"],"properties":[{"name":"City","exclude":false,"dataType":"string"},{"name":"Country","exclude":false,"dataType":"string"},{"name":"Name","exclude":false,"dataType":"string"},{"name":"Vendor_ID","exclude":false,"dataType":"string"},{"name":"State","exclude":false,"dataType":"string"},{"name":"Monthly_Capacity","exclude":false,"dataType":"bigint"},{"name":"Cost_per_unit","exclude":false,"dataType":"number"},{"name":"Material_ID","exclude":false,"dataType":"bigint"},{"name":"Risk","exclude":false,"dataType":"number"},{"name":"Risk_Reason","exclude":false,"dataType":"string"},{"name":"name","exclude":false,"dataType":"string"},{"name":"indexes","exclude":false,"dataType":"array"},{"name":"constraints","exclude":false,"dataType":"array"}],"createdAt":1661551292822,"lastEditedAt":1661714781233,"color":"#57C7E3","size":1,"icon":"C884FF2A-8994-4A36-9EA3-B7357229C273","captionKeys":["0_CATEGORY_NAME_CAPTION_KEY","Name"],"styleRules":[{"id":"rule:1661678832815","type":"range","size":1,"minSize":1,"maxSize":2,"minColor":"#eedad5","midColor":"#81CCA8","maxColor":"#f46009","minPoint":"0.1","maxPoint":"0.9","applyColor":true,"applySize":false,"applyCaption":false,"captionKeys":["0_CATEGORY_NAME_CAPTION_KEY"],"color":"#efbfa8","isTimeZoneConvertEnabled":false,"selectedTimeZone":"Z","basedOn":"Risk_number","valuesMapper":[],"existingValues":[],"maxSizeValue":"0.9","maxColorValue":"1","minSizeValue":"0.1","minColorValue":"0.1","conditionValue":0.1,"rangeValue":1.9,"condition":"between"}]},{"id":5,"name":"SKU","labels":["SKU"],"properties":[{"name":"PriceperUnit","exclude":false,"dataType":"string"},{"name":"Qty","exclude":false,"dataType":"string"},{"name":"SKU","exclude":false,"dataType":"string"},{"name":"Unit","exclude":false,"dataType":"string"},{"name":"name","exclude":false,"dataType":"string"},{"name":"indexes","exclude":false,"dataType":"array"},{"name":"constraints","exclude":false,"dataType":"array"}],"createdAt":1661551292822,"lastEditedAt":1661714781275,"color":"#4C8EDA","size":1,"icon":"83DF5C33-2518-47E0-942E-1B415B69B652","captionKeys":["0_CATEGORY_NAME_CAPTION_KEY","PriceperUnit"],"styleRules":[]},{"id":6,"name":"Material","labels":["Material"],"properties":[{"name":"Material_Description","exclude":false,"dataType":"string"},{"name":"Material_No","exclude":false,"dataType":"bigint"},{"name":"Risk","exclude":false,"dataType":"number"},{"name":"Risk_Reason","exclude":false,"dataType":"string"},{"name":"name","exclude":false,"dataType":"string"},{"name":"indexes","exclude":false,"dataType":"array"},{"name":"constraints","exclude":false,"dataType":"array"}],"createdAt":1661551292822,"lastEditedAt":1661714781314,"color":"#D9C8AE","size":1,"icon":"87DF58D5-9392-4685-A174-5612E8ECE450","captionKeys":["0_CATEGORY_NAME_CAPTION_KEY","Material_Description"],"styleRules":[]},{"id":7,"name":"Order","labels":["Order"],"properties":[{"name":"Plant_ID","exclude":false,"dataType":"string"},{"name":"Vendor_ID","exclude":false,"dataType":"string"},{"name":"Planned_Delivery","exclude":false,"dataType":"string"},{"name":"Purchase_Order","exclude":false,"dataType":"string"},{"name":"Order_Qty","exclude":false,"dataType":"string"},{"name":"Material_ID","exclude":false,"dataType":"string"},{"name":"name","exclude":false,"dataType":"string"},{"name":"indexes","exclude":false,"dataType":"array"},{"name":"constraints","exclude":false,"dataType":"array"}],"createdAt":1661551292822,"lastEditedAt":1661714781358,"color":"#8DCC93","size":1,"icon":"3D41227E-DAF6-470B-8516-5B5C385534B9","captionKeys":["0_CATEGORY_NAME_CAPTION_KEY","Plant_ID"],"styleRules":[{"id":"rule:1661678677061","type":"single","size":1,"minSize":1,"maxSize":2,"minColor":"#D5EEE2","midColor":"#81CCA8","maxColor":"#428C6A","minPoint":"unprocessed","maxPoint":"unprocessed","applyColor":false,"applySize":false,"applyCaption":false,"captionKeys":["0_CATEGORY_NAME_CAPTION_KEY"],"color":"#FFE081","isTimeZoneConvertEnabled":false,"selectedTimeZone":"Z"}]},{"id":9,"name":"CostBenefit","labels":["CostBenefit"],"properties":[{"name":"Cost_of_switch","exclude":false,"dataType":"bigint"},{"name":"Potential_Revenue_Saved","exclude":false,"dataType":"bigint"}],"createdAt":1661786383596,"lastEditedAt":1661786383596,"color":"#dad94c","size":1,"icon":"E325B81B-4516-4692-AD86-2D408B2EED9D","captionKeys":["0_CATEGORY_NAME_CAPTION_KEY","Cost_of_switch"]},{"id":10,"name":"Risk","labels":["Risk"],"properties":[{"name":"_Risk_Reason","exclude":false,"dataType":"string"},{"name":"Risk_Category","exclude":false,"dataType":"string"}],"createdAt":1661794211336,"lastEditedAt":1661794211336,"color":"#DA7194","size":1,"icon":"AA5DDB51-F470-41C4-A5C8-8F20D442CF39","captionKeys":["_Risk_Reason","0_CATEGORY_NAME_CAPTION_KEY"]}],"labels":{"Customer":[{"propertyKey":"Customer_ID","type":"Customer","dataType":"string"},{"propertyKey":"CustomerCity","type":"Customer","dataType":"string"},{"propertyKey":"FirstName","type":"Customer","dataType":"string"},{"propertyKey":"LastName","type":"Customer","dataType":"string"},{"propertyKey":"CustomerCountr","type":"Customer","dataType":"string"}],"Plant":[{"propertyKey":"PlantName","type":"Plant","dataType":"string"},{"propertyKey":"City","type":"Plant","dataType":"string"},{"propertyKey":"Country","type":"Plant","dataType":"string"},{"propertyKey":"State","type":"Plant","dataType":"string"},{"propertyKey":"ID","type":"Plant","dataType":"string"}],"Warehouse":[{"propertyKey":"WarehouseName","type":"Warehouse","dataType":"string"},{"propertyKey":"Warehouse_ID","type":"Warehouse","dataType":"string"},{"propertyKey":"City","type":"Warehouse","dataType":"string"},{"propertyKey":"Country","type":"Warehouse","dataType":"string"},{"propertyKey":"State","type":"Warehouse","dataType":"string"}],"Vendor":[{"propertyKey":"Name","type":"Vendor","dataType":"string"},{"propertyKey":"Vendor_ID","type":"Vendor","dataType":"bigint"},{"propertyKey":"Risk","type":"Vendor","dataType":"string"},{"propertyKey":"City","type":"Vendor","dataType":"string"},{"propertyKey":"Country","type":"Vendor","dataType":"string"},{"propertyKey":"State","type":"Vendor","dataType":"string"},{"propertyKey":"Material_ID","type":"Vendor","dataType":"bigint"},{"propertyKey":"Cost_per_unit","type":"Vendor","dataType":"bigint"},{"propertyKey":"Monthly_Capacity","type":"Vendor","dataType":"bigint"}],"SKU":[{"propertyKey":"PriceperUnit","type":"SKU","dataType":"string"},{"propertyKey":"Qty","type":"SKU","dataType":"string"},{"propertyKey":"SKU","type":"SKU","dataType":"string"},{"propertyKey":"Unit","type":"SKU","dataType":"string"}],"Material":[{"propertyKey":"Material_No","type":"Material","dataType":"bigint"},{"propertyKey":"Risk","type":"Material","dataType":"number"},{"propertyKey":"Material_Description","type":"Material","dataType":"string"}],"Order":[{"propertyKey":"Plant_ID","type":"Order","dataType":"string"},{"propertyKey":"Order_Qty","type":"Order","dataType":"bigint"},{"propertyKey":"Planned_Delivery","type":"Order","dataType":"string"},{"propertyKey":"Purchase_Order","type":"Order","dataType":"string"},{"propertyKey":"Vendor_ID","type":"Order","dataType":"string"},{"propertyKey":"Material_ID","type":"Order","dataType":"string"}],"Risk":[{"propertyKey":"_Risk_Reason","type":"Risk","dataType":"string"},{"propertyKey":"Risk_Category","type":"Risk","dataType":"string"}],"CostBenefit":[{"propertyKey":"Cost_of_switch","type":"CostBenefit","dataType":"string"},{"propertyKey":"Potential_Revenue_Saved","type":"CostBenefit","dataType":"string"}]},"relationshipTypes":[{"id":"CONTAINS","name":"CONTAINS","properties":[{"propertyKey":"Quantity_required_per_unit","type":"CONTAINS","dataType":"number"}],"color":"#848484","size":1,"captionKeys":["0_REL_TYPE_CAPTION_KEY"]},{"id":"SHIPS_TO","name":"SHIPS_TO","properties":[],"color":"#848484","size":1,"captionKeys":["0_REL_TYPE_CAPTION_KEY"]},{"id":"PROCURED_FROM","name":"PROCURED_FROM","properties":[],"color":"#848484","size":1,"captionKeys":["0_REL_TYPE_CAPTION_KEY"]},{"id":"SOURCED_FROM","name":"SOURCED_FROM","properties":[],"color":"#848484","size":1,"captionKeys":["0_REL_TYPE_CAPTION_KEY"]},{"id":"SENDS_TO","name":"SENDS_TO","properties":[],"color":"#848484","size":1,"captionKeys":["0_REL_TYPE_CAPTION_KEY"]},{"id":"DISTRUBUTES_TO","name":"DISTRUBUTES_TO","properties":[],"color":"#848484","size":1,"captionKeys":["0_REL_TYPE_CAPTION_KEY"]},{"id":"SWITCH","name":"SWITCH","properties":[],"color":"#848484","size":1,"captionKeys":["0_REL_TYPE_CAPTION_KEY"]},{"properties":[{"propertyKey":"Risk_Score","type":"AT_RISK","dataType":"number"}],"name":"AT_RISK","id":"AT_RISK","color":"#848484","size":1,"captionKeys":["0_REL_TYPE_CAPTION_KEY"]},{"properties":[],"name":"ANALYZE","id":"ANALYZE","color":"#848484","size":1,"captionKeys":["0_REL_TYPE_CAPTION_KEY"]}],"palette":{"colors":["#FFE081","#C990C0","#F79767","#57C7E3","#F16667","#D9C8AE","#8DCC93","#ECB5C9","#4C8EDA","#FFC454","#DA7194","#569480","#848484","#D9D9D9"],"currentIndex":11},"createdAt":1661551292748,"lastEditedAt":1661551292748,"templates":[{"name":"Display the schema of the graph","id":"tmpl:1661714762755","createdAt":1661714762755,"text":"show schema","cypher":"CALL db.schema.visualization() YIELD nodes, relationships\nUNWIND nodes as node\nwith node, relationships\nWHERE apoc.node.labels(node) <> [\"Bloom_Perspective\"]\nRETURN collect(node) AS nodes, relationships","isUpdateQuery":null,"params":[],"hasCypherErrors":false},{"name":"Alternative Vendor who is less risky","id":"tmpl:1661711524734","createdAt":1661711524734,"text":"altvendor $vendorid","cypher":"MATCH (o:Order{Material_ID:toString(43876930), Planned_Delivery:'Mar'})-->(v:Vendor)-[*..3]-(c:Customer)\nwhere v.Vendor_ID <> $vendorid\n\nwith  v,c, v.Vendor_ID as Vendor_ID, v.Risk as Risk_Score, count(distinct c) as cnt\nwhere cnt < 6 and Risk_Score < 0.9\nreturn v","isUpdateQuery":null,"params":[{"name":"$vendorid","dataType":"String","collapsed":false,"suggestionLabel":null,"suggestionProp":null,"suggestionBoolean":false,"cypher":null}],"hasCypherErrors":false},{"name":"Customers of a given Vendor","id":"tmpl:1661678337544","createdAt":1661678337544,"text":"customers of $vendorid","cypher":"match(v:Vendor{Vendor_ID:$vendorid})-[*..3]-(c:Customer) return c","isUpdateQuery":null,"params":[{"name":"$vendorid","dataType":"String","collapsed":false,"suggestionLabel":null,"suggestionProp":null,"suggestionBoolean":false,"cypher":null}],"hasCypherErrors":false},{"name":"Search phrase that returns a sample of your data","id":"tmpl:1661551294030","createdAt":1661551294030,"text":"Show me a graph","cypher":"MATCH p=()-->() RETURN p LIMIT 100","isUpdateQuery":null,"params":[]}],"sceneActions":[],"hiddenRelationshipTypes":[],"hiddenCategories":[],"hideUncategorisedData":false,"isAuto":false,"parentPerspectiveId":null,"metadata":{"pathSegments":[{"source":"Vendor","relationshipType":"SHIPS_TO","target":"Plant"},{"source":"Plant","relationshipType":"SENDS_TO","target":"Warehouse"},{"source":"Material","relationshipType":"PROCURED_FROM","target":"Order"},{"source":"Warehouse","relationshipType":"DISTRUBUTES_TO","target":"Customer"},{"source":"Vendor","relationshipType":"AT_RISK","target":"Risk"},{"source":"Vendor","relationshipType":"ANALYZE","target":"CostBenefit"},{"source":"Vendor","relationshipType":"SWITCH","target":"Vendor"},{"source":"Order","relationshipType":"SOURCED_FROM","target":"Vendor"},{"source":"SKU","relationshipType":"CONTAINS","target":"Material"}],"indexes":[{"label":null,"type":"native","propertyKeys":[]},{"label":"Customer","type":"native","isMetadataPropIndex":true,"propertyKeys":["Customer_ID","CustomerCity","FirstName","LastName","CustomerCountr"]},{"label":"Plant","type":"native","isMetadataPropIndex":true,"propertyKeys":["PlantName","City","Country","State","ID"]},{"label":"Warehouse","type":"native","isMetadataPropIndex":true,"propertyKeys":["WarehouseName","Warehouse_ID","City","Country","State"]},{"label":"Vendor","type":"native","isMetadataPropIndex":true,"propertyKeys":["Name","Vendor_ID","Risk","City","Country","State","Material_ID","Cost_per_unit","Monthly_Capacity"]},{"label":"SKU","type":"native","isMetadataPropIndex":true,"propertyKeys":["PriceperUnit","Qty","SKU","Unit"]},{"label":"Material","type":"native","isMetadataPropIndex":true,"propertyKeys":["Material_No","Risk","Material_Description"]},{"label":"Risk","type":"native","isMetadataPropIndex":true,"propertyKeys":["_Risk_Reason","Risk_Category"]},{"label":"CostBenefit","type":"native","isMetadataPropIndex":true,"propertyKeys":["Cost_of_switch","Potential_Revenue_Saved"]}],"stats":{"labels":{},"relationshipTypes":{"CONTAINS":10,"SHIPS_TO":96,"PROCURED_FROM":1254,"SOURCED_FROM":1254,"SENDS_TO":14,"DISTRUBUTES_TO":33,"AT_RISK":70,"ANALYZE":8,"SWITCH":8}}},"version":"2.4.0"}